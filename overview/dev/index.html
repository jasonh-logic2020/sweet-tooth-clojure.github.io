<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Sweet Tooth :: Sweet Tooth, a Clojure Single-Page App Framework</title>
    <link rel="canonical" href="https://www.sweettooth.dev/overview/dev/index.html">
    <meta name="generator" content="Antora 2.3.3">
    <link rel="stylesheet" href="../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.sweettooth.dev">Sweet Tooth, a Clojure Single-Page App Framework</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="https://github.com/sweet-tooth-clojure/">GitHub Repos</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://github.com/sweet-tooth-clojure/endpoint">endpoint</a>
            <a class="navbar-item" href="https://github.com/sweet-tooth-clojure/frontend">frontend</a>
            <a class="navbar-item" href="https://github.com/sweet-tooth-clojure/todo-example">todo example</a>
            <a class="navbar-item" href="https://github.com/sweet-tooth-clojure/describe">describe</a>
            <a class="navbar-item" href="https://github.com/sweet-tooth-clojure/documentation">documentation</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="overview" data-version="dev">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
      <!-- <h3 class="title"><a href="index.html">Overview</a></h3> -->
      <h3 class="title"><a href="index.html">Overview</a></h3>
        <h3 class="title"><a href="../../quickstart/dev/index.html">Quickstart</a></h3>
        <h3 class="title"><a href="../../todo-example/dev/index.html">To-Do Example Walkthrough</a></h3>
  <ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../todo-example/dev/initial-rendering.html">Initial Rendering</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../todo-example/dev/form-handling.html">Form Handling</a>
  </li>
</ul>
  </li>
</ul>
      <h3 class="title"><a href="../../endpoint/dev/index.html">endpoint</a></h3>
  <ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../endpoint/dev/routes-and-handlers/index.html">Routes and Handlers</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../endpoint/dev/routes-and-handlers/routes-in-depth.html">Routes in Depth</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../endpoint/dev/routes-and-handlers/handlers-in-depth.html">Handlers in Depth</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../endpoint/dev/routes-and-handlers/responses.html">Responses</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../endpoint/dev/routes-and-handlers/request-handling-intro.html">Introduction to Request Handling</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../endpoint/dev/architecture/index.html">Server Architecture: Components and Beyond</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../endpoint/dev/architecture/integrant-tutorial.html">Integrant Tutorial</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../endpoint/dev/architecture/duct-tutorial.html">Duct Tutorial</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../endpoint/dev/systems/index.html">Systems</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore " data-panel="explore">
  <div class="context">
    <span class="title">Overview</span>
    <span class="version">dev</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">endpoint</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../endpoint/dev/index.html">dev</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Overview</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">dev</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Quickstart</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../quickstart/dev/index.html">dev</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">To-Do Example Walkthrough</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../todo-example/dev/index.html">dev</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link is-current"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Sweet Tooth</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Sweet Tooth is a Clojure and ClojureScript Single Page App (SPA) framework. My
dream for Sweet Tooth is to make it easier, faster, and funner for developers
like you to get your ideas into production. I want to provide a modular,
extensible, composable foundation that lets you <strong>focus on the work that thrills
you</strong>&#8201;&#8212;&#8201;without worrying that the framework will make your life harder months or
years from now. I want Clojure beginners to be able to make something freakin'
badass right at the start of their journey.</p>
</div>
<div class="paragraph">
<p>If that sounds interesting to you, I hope you&#8217;ll give the framework a try. The
<a href="../../quickstart/dev/index.html" class="page">Quickstart</a> will take you through the steps to
create your own Sweet Tooth project. The <a href="../../todo-example/dev/index.html" class="page">To-Do
Example Walkthrough</a> is a depth-first exploration of the framework using a
simple working app. The rest of this page provides an overview of the project.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../todo-example/dev/_images/01-running.png" alt="todo example screenshot">
</div>
<div class="title">Figure 1. the <a href="../../todo-example/dev/index.html" class="page">To-Do example app</a></div>
</div>
<div class="paragraph">
<p>This documentation is a work in progress ðŸ™‚. It doesn&#8217;t cover every function,
every re-frame event handler, every nook and cranny. It does cover the major
ideas, and many facets of the framework are explained in detail. Though I want
to one day write a guide for complete beginners, the docs are currently written
for devs with some Clojure experience.</p>
</div>
<div class="paragraph">
<p>I love making web apps; it&#8217;s a form of creative expression for me. Clojure is
the best medium I&#8217;ve found so far for this kind of creativity. I hope this
little project makes it possible for more people to experience the same joy and
excitement as I feel in bringing ideas to life. Whether or not it will remains
to be seen, but in the mean time I hope you&#8217;ll have some fun trying it out!</p>
</div>
<div class="paragraph">
<p>&#8201;&#8212;&#8201;<a href="https://twitter.com/nonrecursive">Daniel Higginbotham</a>, author of <a href="https://braveclojure.com">Clojure for the Brave and True</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_easier_faster_funner"><a class="anchor" href="#_easier_faster_funner"></a>Easier, Faster, Funner</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Getting a basic Clojure SPA into production should be easy, fast, and fun.
<em>Easy</em> simply means that you shouldn&#8217;t have to struggle. <em>Fast</em> means you should
be able to show friends or colleagues a very simple, deployed, functioning app
after only a couple hours. <em>Fun</em> is the dopamine hit you should feel from easy
and fast. This is good for the individual developer, but it&#8217;s also good for the
organization: it&#8217;s the first step toward continuous deployment and reaping the
benefits of continuous feedback.</p>
</div>
<div class="paragraph">
<p>Sweet Tooth&#8217;s (ST) approach is to provide abstractions and helpers for common
SPA concerns like form workflows, routing and navigation, and HTTP request
management. Special attention has been paid to the process of introducing new
CRUD interactions. These use cases are not particular to the app you&#8217;re trying
to build, but as a Clojurian you&#8217;ve likely had to figure them out for yourself
when building an SPA. In the same way that you shouldn&#8217;t have to write your own
filesystem when making a desktop app, you shouldn&#8217;t have to write your own form
handling system to launch your idea. ST also introduces a collection of <a href="https://www.ansible.com/">Ansible</a>
scripts tailored to Sweet Tooth apps so that you can start deploying
immediately.</p>
</div>
<div class="paragraph">
<p>Whether or not this approach makes development easier, faster, and funner for a
broad audience has yet to be proven. It&#8217;s definitely helped me in creating my
own apps (that I&#8217;ve even made money with!) in my free time as a solo developer.</p>
</div>
<div class="paragraph">
<p>One possible impediment: there&#8217;s <em>a lot</em> going on! For starters, Sweet Tooth
relies on integrant, re-frame, and liberator, each of which has its own learning
curve. It introduces its own abstractions and conventions on top of that.</p>
</div>
<div class="paragraph">
<p>My hypothesis is that this can be addressed through the coding equivalent of
progressive enhancement: the framework should provide tools for you to get
something simple working without understanding how exactly it works. You should
be able to be somewhat productive without investing inordinate time in learning
the framework. Good documentation and design should assist you in doing more
complicated work.</p>
</div>
<div class="paragraph">
<p>And speaking of design&#8230;&#8203;</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modularity_extensibility_composability"><a class="anchor" href="#_modularity_extensibility_composability"></a>Modularity, Extensibility, Composability</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I&#8217;ve tried to write Sweet Tooth so that using it doesn&#8217;t lock you in the way
some frameworks do. ST is built as layers on top of popular and proven libraries
like re-frame, duct, integrant, liberator, ring, and reitit, and you can always
use those libraries directly if you need to. For example, ST&#8217;s form system
introduces a default re-frame handler for successful form submissions, but it&#8217;s
ultimately just re-frame and you can use whatever handler you want. Or, you can
elect not to use Sweet Tooth forms at all, but still use the frontend navigation
system for handling URL changes.</p>
</div>
<div class="paragraph">
<p>If it turns out that this framework is useful, it might even be possible for us
to begin creating an ecosystem of SPA libraries for handling common concerns
like email, payments, and more. Wouldn&#8217;t that be amazing? I think it would be.</p>
</div>
<div class="paragraph">
<p><em>Modularity</em> means that the framework&#8217;s responsibilities should be well-defined,
and it should be possible for you to swap out one implementation of a
responsibility for another. For example, Sweet Tooth uses reitit for routing,
but it&#8217;s possible for you to use a different library as long as you can adapt it
to the routing protocol.</p>
</div>
<div class="paragraph">
<p>At the same time, some core responsibilities cannot be made modular. Sweet Tooth
is built on top of Integrant, which is used to define, configure, and manage the
lifecycle of the system&#8217;s architecture; you can&#8217;t use the mount or component
libraries instead, in the same way that you must use either systemd or upstart
on servers. On the frontend, ST is built on top of re-frame, which act as a kind
of filesystem and messaging system. Using Sweet Tooth means using re-frame and
Integrant.</p>
</div>
<div class="paragraph">
<p><em>Exntensibility</em> means that devs should be able to easily introduce custom
implementations of core framework offerings. (OMG I need to find a better way to
phrase this!) In practice this mostly means identifying where it&#8217;s possible and
appropriate to use a multimethod, and doing so. One example is Sweet Tooth&#8217;s
form component system: ST takes care of all the details for storing a form
input&#8217;s data on the frontend and submiting that data to the backend. It&#8217;s
trivial to extend the system for new components, for example by introducing a
markdown editor component. The to-do example walkthrough will show you how this
works.</p>
</div>
<div class="paragraph">
<p><em>Composability</em> means two things: first, that the framework should be written
from a UNIX-y "do one thing well" standpoint. Back to form components: the form
component system is layered, with re-frame subscriptions and handlers as the
bottom layer. A multimethod composes those subscriptions and handlers into DOM
options like <code>:on-change</code> and <code>:checked</code> as appropriate for the different kinds
of inputs. You can use this system for composing the re-frame subscriptions and
handlers, or you could introduce your own.</p>
</div>
<div class="paragraph">
<p>The second meaning is that it should be possible to write framework plugins. For
example, you should be able to write an auth plugin that spans the frontend and
backend, introducing API endpoints and reagent components that Just Work. I
haven&#8217;t put much thought into supporting this kind of compsability.</p>
</div>
<div class="paragraph">
<p>If Sweet Tooth succeeds at being modular, extensible, and composable, it&#8217;s
because it&#8217;s built on top of integrant and re-frame, two extremely well-designed
libraries.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_responsibilities"><a class="anchor" href="#_responsibilities"></a>Responsibilities</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sweet Tooth handles the following:</p>
</div>
<div class="sect2">
<h3 id="_frontend"><a class="anchor" href="#_frontend"></a>Frontend</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Navigation and Routing.</strong> Handling the relationship between URLs and what gets
rendered.</p>
</li>
<li>
<p><strong>Syncing.</strong> Or, AJAX requests. Make requests using shared, named endpoint
routes. Requsts are tracked so you can easily show activity indicators.</p>
</li>
<li>
<p><a href="../../todo-example/dev/form-handling.html" class="page"><strong>Forms.</strong></a></p>
<div class="ulist">
<ul>
<li>
<p><strong>data</strong> stop worry about where to store form data</p>
</li>
<li>
<p><strong>workflow</strong> validation: handle server side validation and get nitpicky with
client-side validation, e.g. only validate a field on blur. Form submission
handled too.</p>
</li>
<li>
<p><strong>components</strong> a thorough and extensible component system</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>App initialization.</strong></p>
</li>
<li>
<p><strong>JS Event Handling</strong> tools for registering js event handlers the re-frame way</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_backend"><a class="anchor" href="#_backend"></a>Backend</h3>
<div class="ulist">
<ul>
<li>
<p><a href="../../endpoint/dev/index.html" class="page"><strong>Endpoints.</strong></a> Create API endpoints.</p>
</li>
<li>
<p><a href="../../endpoint/dev/systems/index.html" class="page"><strong>Systems</strong>.</a> Tools for working with Duct systems.</p>
</li>
<li>
<p><strong>Testing</strong>. Tools for testing Duct systems.</p>
</li>
<li>
<p><strong>Mocking</strong>. Making it easy to mock Duct components.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_deploying"><a class="anchor" href="#_deploying"></a>Deploying</h3>
<div class="paragraph">
<p>Ansible scripts to provision a new VPS and deploy your app to it. VPS can host
multiple ST apps.</p>
</div>
</div>
<div class="sect2">
<h3 id="_misc"><a class="anchor" href="#_misc"></a>Misc</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/sweet-tooth-clojure/generate"><strong>Code generation.</strong></a> Generate new endpoints from the REPL! Still in its infancy.</p>
</li>
<li>
<p><a href="https://github.com/sweet-tooth-clojure/describe"><strong>Validation.</strong></a> Yes, another validation library.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_not_responsibilities"><a class="anchor" href="#_not_responsibilities"></a>Not Responsibilities</h3>
<div class="paragraph">
<p>What is this project not made for? Sweet Tooth is not for creating
server-rendered apps. It hasn&#8217;t been used for high-traffic projects, so it&#8217;s
currently not for that, either. It has no support for GraphQL, though I think
it&#8217;d be possible to add that. It&#8217;s not intended for drawing applications
(think fuzzy:intended for form-oriented applications rather than drawing applications - it&#8217;s meant to build apps like [Whimsical]), but who knows, maybe that would work out ok?</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_documentation_overview"><a class="anchor" href="#_documentation_overview"></a>Documentation Overview</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_quickstart"><a class="anchor" href="#_quickstart"></a><a href="../../quickstart/dev/index.html" class="page">Quickstart</a></h3>
<div class="paragraph">
<p>The Quickstart shows you how to:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a new Sweet Tooth project</p>
</li>
<li>
<p>Create a new endpoint</p>
</li>
<li>
<p>Fetch and display records from the frontend</p>
</li>
<li>
<p>Add a frontend route</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_to_do_example_walkthrough"><a class="anchor" href="#_to_do_example_walkthrough"></a><a href="../../todo-example/dev/index.html" class="page">To-Do Example Walkthrough</a></h3>
<div class="paragraph">
<p>The To-Do Example Walkthrough is a depth-first exploration of the framework
using a simple working app. It&#8217;s still a work in progress, but it covers the
following in detail:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Rendering the initial "page":</p>
<div class="ulist">
<ul>
<li>
<p>handling URLs and navigation events</p>
</li>
<li>
<p>routing URLs to components and the routing lifecycle</p>
</li>
<li>
<p>frontend system initialization with integrant</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_endpoint"><a class="anchor" href="#_endpoint"></a><a href="../../endpoint/dev/index.html" class="page">endpoint</a></h3>
<div class="paragraph">
<p>While the Quickstart and Walkthrough are guided tours of the framework, the
endpoint docs are meant more as a reference for the <a href="https://github.com/sweet-tooth-clojure/endpoint">endpoint library</a>, which you
use to build an API server. However, the docs do include tutorials for
liberator, duct, and integrant, because Sweet Tooth uses those libraries as a
foundation, and understanding them is the only way to become proficient with
Sweet Tooth.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_contributing"><a class="anchor" href="#_contributing"></a>Contributing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I welcome issues and PRs! However, please be aware that I am <strong>very</strong> inconsistent
when it comes to keeping up with open source collaboration. If people become
interested in this project, then I would especially welcome any help in
systematizing the running of an OS project. That&#8217;s a big if, though!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_acknowledgments"><a class="anchor" href="#_acknowledgments"></a>Acknowledgments</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_libraries_prior_art"><a class="anchor" href="#_libraries_prior_art"></a>Libraries / Prior Art</h3>
<div class="paragraph">
<p>These libraries are used by or helped inspire Sweet Tooth:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/day8/re-frame">re-frame</a></p>
</li>
<li>
<p><a href="https://github.com/weavejester/integrant">Integrant</a></p>
</li>
<li>
<p><a href="https://github.com/duct-framework/duct">Duct</a></p>
</li>
<li>
<p><a href="https://github.com/hoplon/hoplon">hoplon</a></p>
</li>
<li>
<p><a href="https://github.com/metosin/reitit">reitit</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_people"><a class="anchor" href="#_people"></a>People</h3>
<div class="paragraph">
<p>The following people have contributed to Sweet Tooth&#8217;s development:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/walterl">Walter Leibbrandt</a></p>
</li>
<li>
<p><a href="https://github.com/andrewsinclair">Andrew Sinclair</a></p>
</li>
<li>
<p><a href="https://github.com/tlrobinson">Tom Robinson</a></p>
</li>
<li>
<p><a href="https://github.com/sbelak">Simon Belak</a></p>
</li>
<li>
<p><a href="https://github.com/yogthos">Dmitri Sotnikov</a></p>
</li>
<li>
<p><a href="https://github.com/tomjkidd">Tom Kidd</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Thank you!</p>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
    <a href="https://github.com/sweet-tooth-clojure/">Sweet Tooth</a>, a single-page app framework for Clojure
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
